ğŸ“š EXPLICAÃ‡ÃƒO DAS TABELAS
1. Tabela courses (Cursos)
pythonclass Course(Base):
    __tablename__ = "courses"
O QUE ARMAZENA:

InformaÃ§Ãµes gerais do curso (tÃ­tulo, descriÃ§Ã£o, nÃ­vel)
Estrutura JSON completa (todos os mÃ³dulos e tÃ­tulos das aulas)
Status do curso (draft, published, archived)

EXEMPLO DE REGISTRO:
json{
  "id": 1,
  "title": "Python para Iniciantes",
  "description": "Aprenda Python do zero",
  "level": "beginner",
  "structure": {
    "modules": [
      {
        "index": 1,
        "title": "Fundamentos de Python",
        "lessons": [
          {"title": "O que Ã© Python?"},
          {"title": "Instalando Python"},
          {"title": "Seu Primeiro Programa"}
        ]
      }
    ]
  }
}
QUANDO Ã‰ CRIADA:

Quando vocÃª chama POST /courses/generate-structure
O SpecialistAgent gera a estrutura completa do curso


2. Tabela modules (MÃ³dulos)
pythonclass Module(Base):
    __tablename__ = "modules"
O QUE ARMAZENA:

Cada mÃ³dulo do curso (ex: "MÃ³dulo 1: Fundamentos")
Metadata do mÃ³dulo (tÃ­tulo, descriÃ§Ã£o, duraÃ§Ã£o)
Status de geraÃ§Ã£o (aulas foram criadas? quiz foi criado?)

CAMPOS IMPORTANTES:

content_generated: Boolean - As aulas deste mÃ³dulo jÃ¡ foram geradas?
exam_generated: Boolean - A prova deste mÃ³dulo jÃ¡ foi criada?
lessons_count: Integer - Quantas aulas este mÃ³dulo tem

EXEMPLO DE REGISTRO:
json{
  "id": 1,
  "course_id": 1,
  "module_index": 1,
  "title": "Fundamentos de Python",
  "description": "Aprenda os conceitos bÃ¡sicos",
  "content_generated": true,  // âœ… Aulas jÃ¡ foram geradas
  "exam_generated": true,      // âœ… Quiz jÃ¡ foi criado
  "lessons_count": 3
}
QUANDO Ã‰ CRIADA:

Quando vocÃª chama POST /courses/generate-structure
Cria um registro para cada mÃ³dulo da estrutura
MAS: as aulas NÃƒO sÃ£o geradas ainda! (campo content_generated = false)


3. Tabela lessons (Aulas) - NOVA!
pythonclass Lesson(Base):
    __tablename__ = "lessons"
O QUE ARMAZENA:

O conteÃºdo completo de cada aula em Markdown
InformaÃ§Ãµes de quem gerou e revisou
Status de aprovaÃ§Ã£o

CAMPOS IMPORTANTES:

content: Text - O conteÃºdo completo da aula (800-1200 palavras)
generated_by: String - Nome do agent que gerou ("specialist_agent")
reviewed_by: String - Nome do agent que revisou ("reviewer_agent")
review_feedback: JSONB - Feedback da revisÃ£o
is_approved: Boolean - Passou na revisÃ£o?
estimated_read_time_minutes: Integer - Tempo estimado de leitura

EXEMPLO DE REGISTRO:
json{
  "id": 1,
  "module_id": 1,
  "lesson_index": 1,
  "title": "O que Ã© Python?",
  "content": "# IntroduÃ§Ã£o\n\nPython Ã© uma linguagem...",
  "generated_by": "specialist_agent",
  "reviewed_by": "reviewer_agent",
  "review_feedback": {"score": 8.5, "suggestions": []},
  "is_approved": true,
  "estimated_read_time_minutes": 5
}
QUANDO Ã‰ CRIADA:

Quando vocÃª chama POST /courses/modules/{module_id}/generate-lessons
Uma linha para cada aula do mÃ³dulo
CONTEÃšDO COMPLETO Ã© gerado pelo SpecialistAgent


4. Tabela progress (Progresso do Aluno)
pythonclass Progress(Base):
    __tablename__ = "progress"
O QUE ARMAZENA:

Progresso do aluno em cada mÃ³dulo
Resultado do quiz
Tempo de estudo

CAMPOS IMPORTANTES:

user_id: Integer - ID do aluno
course_id: Integer - ID do curso
module_id: Integer - ID do mÃ³dulo atual
current_lesson_index: Integer - Qual aula estÃ¡ estudando
quiz_score: Integer - Nota do quiz (0-100)
quiz_passed: Boolean - Passou com 70%+?
can_advance: Boolean - Pode avanÃ§ar para prÃ³ximo mÃ³dulo?

EXEMPLO DE REGISTRO:
json{
  "id": 1,
  "user_id": 5,
  "course_id": 1,
  "module_id": 1,
  "current_lesson_index": 3,  // EstÃ¡ na aula 3
  "quiz_score": 85,            // Tirou 85%
  "quiz_passed": true,         // âœ… Passou!
  "can_advance": true,         // âœ… Pode ir para mÃ³dulo 2
  "status": "completed"
}
QUANDO Ã‰ CRIADA:

Quando o aluno se matricula no curso
Atualizada conforme ele estuda e faz quizzes


5. Tabela lesson_completions (ConclusÃ£o de Aulas) - NOVA!
pythonclass LessonCompletion(Base):
    __tablename__ = "lesson_completions"
O QUE ARMAZENA:

Rastreamento de cada aula que o aluno completou
Tempo gasto em cada aula

CAMPOS IMPORTANTES:

user_id: Integer - ID do aluno
lesson_id: Integer - ID da aula
completed: Boolean - Completou?
time_spent_minutes: Integer - Tempo gasto

EXEMPLO DE REGISTRO:
json{
  "id": 1,
  "user_id": 5,
  "lesson_id": 1,
  "completed": true,
  "time_spent_minutes": 7,
  "completed_at": "2025-11-29T10:30:00Z"
}
```

**QUANDO Ã‰ CRIADA:**
- Quando o aluno termina de ler uma aula
- Usado para calcular progresso no mÃ³dulo

---

## ğŸ”„ **FLUXO COMPLETO PASSO A PASSO**

### **FASE 1: Gerar Estrutura do Curso (30 segundos)**
```
1. UsuÃ¡rio faz request:
   POST /courses/generate-structure
   {
     "topic": "Python para Iniciantes",
     "goal": "Aprender programaÃ§Ã£o",
     "level": "beginner"
   }

2. Backend chama: Orchestrator.generate_course_structure()
   
3. SpecialistAgent gera estrutura JSON:
   {
     "title": "Python para Iniciantes",
     "modules": [
       {
         "index": 1,
         "title": "Fundamentos",
         "lessons": [
           {"title": "O que Ã© Python?"},
           {"title": "Instalando Python"},
           {"title": "Primeiro Programa"}
         ]
       },
       {
         "index": 2,
         "title": "VariÃ¡veis e Tipos",
         "lessons": [...]
       }
     ]
   }

4. Backend salva no banco:
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: courses                 â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: 1                           â”‚
   â”‚ title: "Python para Iniciantes" â”‚
   â”‚ structure: {JSON completo}      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: modules                 â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: 1                           â”‚
   â”‚ course_id: 1                    â”‚
   â”‚ module_index: 1                 â”‚
   â”‚ title: "Fundamentos"            â”‚
   â”‚ content_generated: FALSE âŒ     â”‚
   â”‚ exam_generated: FALSE âŒ        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: modules                 â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: 2                           â”‚
   â”‚ course_id: 1                    â”‚
   â”‚ module_index: 2                 â”‚
   â”‚ title: "VariÃ¡veis e Tipos"      â”‚
   â”‚ content_generated: FALSE âŒ     â”‚
   â”‚ exam_generated: FALSE âŒ        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5. IMPORTANTE: Neste momento, NENHUMA aula foi gerada!
   A tabela "lessons" estÃ¡ VAZIA!
```

---

### **FASE 2: Aluno se Matricula**
```
1. Aluno se matricula no curso
   POST /courses/1/enroll
   {
     "user_id": 5
   }

2. Backend cria registro de progresso:
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: progress                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: 1                           â”‚
   â”‚ user_id: 5                      â”‚
   â”‚ course_id: 1                    â”‚
   â”‚ module_id: 1  (comeÃ§a no 1Âº)   â”‚
   â”‚ current_lesson_index: 1         â”‚
   â”‚ quiz_passed: FALSE              â”‚
   â”‚ can_advance: FALSE              â”‚
   â”‚ status: "in_progress"           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. Agora o aluno estÃ¡ matriculado e pronto para comeÃ§ar!
```

---

### **FASE 3: Gerar Aulas do MÃ³dulo 1 (2-3 minutos)**
```
1. Aluno acessa o MÃ³dulo 1
   Backend detecta: content_generated = FALSE
   
2. Backend automaticamente chama:
   POST /courses/modules/1/generate-lessons

3. Orchestrator inicia processo:
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ AGENT 1: SpecialistAgent                    â”‚
   â”‚ - Gera conteÃºdo da Aula 1                   â”‚
   â”‚ - Gera conteÃºdo da Aula 2                   â”‚
   â”‚ - Gera conteÃºdo da Aula 3                   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ AGENT 2: ReviewerAgent                      â”‚
   â”‚ - Revisa conteÃºdo da Aula 1                 â”‚
   â”‚ - Revisa conteÃºdo da Aula 2                 â”‚
   â”‚ - Revisa conteÃºdo da Aula 3                 â”‚
   â”‚ - DÃ¡ feedback e score                       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ AGENT 3: QuizAgent                          â”‚
   â”‚ - Gera 10 questÃµes baseadas nas 3 aulas    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. Backend salva tudo no banco:
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: lessons                         â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: 1                                   â”‚
   â”‚ module_id: 1                            â”‚
   â”‚ lesson_index: 1                         â”‚
   â”‚ title: "O que Ã© Python?"                â”‚
   â”‚ content: "# IntroduÃ§Ã£o\n\nPython Ã©..." â”‚
   â”‚   (800-1200 palavras em Markdown)       â”‚
   â”‚ generated_by: "specialist_agent"        â”‚
   â”‚ reviewed_by: "reviewer_agent"           â”‚
   â”‚ review_feedback: {score: 8.5}           â”‚
   â”‚ is_approved: TRUE âœ…                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: lessons                         â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: 2                                   â”‚
   â”‚ module_id: 1                            â”‚
   â”‚ lesson_index: 2                         â”‚
   â”‚ title: "Instalando Python"              â”‚
   â”‚ content: "# IntroduÃ§Ã£o\n\nNesta aula..." â”‚
   â”‚ generated_by: "specialist_agent"        â”‚
   â”‚ reviewed_by: "reviewer_agent"           â”‚
   â”‚ is_approved: TRUE âœ…                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: lessons                         â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: 3                                   â”‚
   â”‚ module_id: 1                            â”‚
   â”‚ lesson_index: 3                         â”‚
   â”‚ title: "Primeiro Programa"              â”‚
   â”‚ content: "# IntroduÃ§Ã£o\n\nAgora vamos..." â”‚
   â”‚ generated_by: "specialist_agent"        â”‚
   â”‚ reviewed_by: "reviewer_agent"           â”‚
   â”‚ is_approved: TRUE âœ…                    â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5. Atualiza mÃ³dulo:
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: modules                 â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ id: 1                           â”‚
   â”‚ content_generated: TRUE âœ…      â”‚
   â”‚ exam_generated: TRUE âœ…         â”‚
   â”‚ lessons_count: 3                â”‚
   â”‚ quiz: {questÃµes geradas}        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **FASE 4: Aluno Estuda as Aulas**
```
1. Aluno acessa Aula 1:
   GET /courses/lessons/1
   
   Retorna:
   {
     "id": 1,
     "title": "O que Ã© Python?",
     "content": "# IntroduÃ§Ã£o\n\nPython Ã©...",
     "read_time_minutes": 5
   }

2. Aluno termina de ler:
   POST /courses/lessons/1/complete
   
   Backend cria:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: lesson_completions      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ user_id: 5                      â”‚
   â”‚ lesson_id: 1                    â”‚
   â”‚ completed: TRUE âœ…              â”‚
   â”‚ time_spent_minutes: 7           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. Aluno estuda Aula 2 e 3 (mesmo processo)

4. Atualiza progresso:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: progress                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ user_id: 5                      â”‚
   â”‚ module_id: 1                    â”‚
   â”‚ current_lesson_index: 3         â”‚
   â”‚ completion_percentage: 100%     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **FASE 5: Aluno Faz o Quiz**
```
1. Aluno acessa quiz:
   GET /courses/modules/1/quiz
   
   Retorna 10 questÃµes geradas pelo QuizAgent

2. Aluno responde e submete:
   POST /courses/modules/1/submit-quiz
   {
     "answers": [
       {"question_id": 1, "answer": "B"},
       {"question_id": 2, "answer": "A"},
       ...
     ]
   }

3. Backend calcula score:
   - Compara respostas com gabarito
   - Calcula porcentagem: 8/10 = 80%

4. Backend atualiza progresso:
   
   SE score >= 70%:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: progress                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ quiz_score: 80                  â”‚
   â”‚ quiz_passed: TRUE âœ…            â”‚
   â”‚ can_advance: TRUE âœ…            â”‚
   â”‚ module_id: 2  (libera prÃ³ximo!) â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   SE score < 70%:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ TABELA: progress                â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚ quiz_score: 65                  â”‚
   â”‚ quiz_passed: FALSE âŒ           â”‚
   â”‚ can_advance: FALSE âŒ           â”‚
   â”‚ status: "needs_review"          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ ProgressAgent Ã© acionado!                   â”‚
   â”‚ - Analisa erros do aluno                    â”‚
   â”‚ - Cria material de revisÃ£o personalizado    â”‚
   â”‚ - Sugere aulas especÃ­ficas para revisar     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### **FASE 6: AvanÃ§ar para MÃ³dulo 2**
```
1. Aluno passou no quiz (score >= 70%)

2. Backend detecta: progress.can_advance = TRUE

3. Backend chama:
   POST /courses/modules/2/generate-lessons
   
   (Mesmo processo da Fase 3)

4. Gera aulas do MÃ³dulo 2 sob demanda:
   - SpecialistAgent gera conteÃºdo
   - ReviewerAgent revisa
   - QuizAgent cria prova

5. Aluno agora pode estudar MÃ³dulo 2!
```

---

## ğŸ¤– **RESUMO DOS AGENTS**

### **1. SpecialistAgent** 
**FUNÃ‡ÃƒO:** Criar conteÃºdo educacional
**QUANDO USA:** 
- Fase 1: Gerar estrutura do curso
- Fase 3: Gerar conteÃºdo das aulas

**EXEMPLO DE PROMPT:**
```
Crie uma aula sobre "O que Ã© Python?"
- 800-1200 palavras
- Linguagem clara para iniciantes
- Inclua exemplos prÃ¡ticos
- Use Markdown
```

---

### **2. ReviewerAgent**
**FUNÃ‡ÃƒO:** Revisar e melhorar conteÃºdo
**QUANDO USA:**
- Fase 3: Depois que SpecialistAgent gera cada aula

**EXEMPLO DE PROMPT:**
```
Revise este conteÃºdo:
[conteÃºdo da aula]

Melhore:
- Clareza
- DidÃ¡tica
- OrganizaÃ§Ã£o
- Corrige erros

Retorne versÃ£o melhorada
```

---

### **3. QuizAgent**
**FUNÃ‡ÃƒO:** Criar questÃµes de avaliaÃ§Ã£o
**QUANDO USA:**
- Fase 3: Depois de todas as aulas serem revisadas

**EXEMPLO DE PROMPT:**
```
Gere 10 questÃµes sobre:
[conteÃºdo das 3 aulas]

Cada questÃ£o:
- 1 pergunta
- 4 alternativas
- 1 correta
```

---

### **4. ProgressAgent** (FUTURO)
**FUNÃ‡ÃƒO:** Acompanhar e ajudar aluno
**QUANDO USA:**
- Quando aluno tira < 70% no quiz
- Cria material de revisÃ£o personalizado

**EXEMPLO DE PROMPT:**
```
Aluno errou questÃµes 2, 5, 7
ConteÃºdo relacionado: [aulas X, Y]

Crie:
- Resumo dos conceitos que ele errou
- ExercÃ­cios de reforÃ§o
- Dicas de estudo
```

---

## ğŸ“Š **DIAGRAMA VISUAL DO FLUXO**
```
FASE 1: ESTRUTURA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UsuÃ¡rio   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ POST /generate-structure
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SpecialistAgent â”‚ â†’ Gera JSON com mÃ³dulos e tÃ­tulos
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Database â”‚
   â”‚ courses â”‚ âœ…
   â”‚ modules â”‚ âœ… (sem conteÃºdo)
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FASE 2: GERAR AULAS (SOB DEMANDA)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Aluno   â”‚
â”‚ acessa   â”‚
â”‚ mÃ³dulo 1 â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚ POST /modules/1/generate-lessons
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SpecialistAgent    â”‚ â†’ Gera aula 1
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReviewerAgent      â”‚ â†’ Revisa aula 1
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SpecialistAgent    â”‚ â†’ Gera aula 2
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReviewerAgent      â”‚ â†’ Revisa aula 2
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SpecialistAgent    â”‚ â†’ Gera aula 3
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ReviewerAgent      â”‚ â†’ Revisa aula 3
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QuizAgent          â”‚ â†’ Gera quiz com 10 questÃµes
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Database â”‚
   â”‚ lessons â”‚ âœ… (3 aulas salvas)
   â”‚ modules â”‚ âœ… (content_generated = TRUE)
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FASE 3: ALUNO ESTUDA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Aluno   â”‚
â”‚ estuda   â”‚
â”‚ 3 aulas  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Faz Quiz     â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”œâ”€ Score >= 70% â”€â”€â†’ Libera MÃ³dulo 2
     â”‚                   Gera aulas do MÃ³dulo 2
     â”‚
     â””â”€ Score < 70% â”€â”€â”€â†’ ProgressAgent cria revisÃ£o
                         Aluno refaz quiz
```

---

## âœ… **CHECKLIST DE IMPLEMENTAÃ‡ÃƒO**
```
âœ… 1. Criar tabela `lessons`
âœ… 2. Criar tabela `lesson_completions`
âœ… 3. Atualizar tabela `modules` (adicionar campos)
âœ… 4. Atualizar tabela `progress` (adicionar campos)
âœ… 5. SpecialistAgent gera estrutura (jÃ¡ funciona)
âœ… 6. SpecialistAgent gera conteÃºdo das aulas (novo mÃ©todo)
âœ… 7. ReviewerAgent revisa aulas
âœ… 8. QuizAgent gera quiz
âœ… 9. Endpoint: POST /modules/{id}/generate-lessons
âœ… 10. Endpoint: GET /modules/{id}/lessons
âœ… 11. Endpoint: GET /lessons/{id}
âœ… 12. Endpoint: POST /modules/{id}/submit-quiz
âœ… 13. LÃ³gica de 70% para avanÃ§ar